(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);window.wp=window.wp||{};(function(exports,$){var api={},ctor,inherits,slice=Array.prototype.slice;ctor=function(){};inherits=function(parent,protoProps,staticProps){var child;if(protoProps&&protoProps.hasOwnProperty('constructor')){child=protoProps.constructor}else{child=function(){var result=parent.apply(this,arguments);return result}}
$.extend(child,parent);ctor.prototype=parent.prototype;child.prototype=new ctor();if(protoProps)
$.extend(child.prototype,protoProps);if(staticProps)
$.extend(child,staticProps);child.prototype.constructor=child;child.__super__=parent.prototype;return child};api.Class=function(applicator,argsArray,options){var magic,args=arguments;if(applicator&&argsArray&&api.Class.applicator===applicator){args=argsArray;$.extend(this,options||{})}
magic=this;if(this.instance){magic=function(){return magic.instance.apply(magic,arguments)};$.extend(magic,this)}
magic.initialize.apply(magic,args);return magic};api.Class.extend=function(protoProps,classProps){var child=inherits(this,protoProps,classProps);child.extend=this.extend;return child};api.Class.applicator={};api.Class.prototype.initialize=function(){};api.Class.prototype.extended=function(constructor){var proto=this;while(typeof proto.constructor!=='undefined'){if(proto.constructor===constructor)
return !0;if(typeof proto.constructor.__super__==='undefined')
return !1;proto=proto.constructor.__super__}
return !1};api.Events={trigger:function(id){if(this.topics&&this.topics[id])
this.topics[id].fireWith(this,slice.call(arguments,1));return this},bind:function(id){this.topics=this.topics||{};this.topics[id]=this.topics[id]||$.Callbacks();this.topics[id].add.apply(this.topics[id],slice.call(arguments,1));return this},unbind:function(id){if(this.topics&&this.topics[id])
this.topics[id].remove.apply(this.topics[id],slice.call(arguments,1));return this}};api.Value=api.Class.extend({initialize:function(initial,options){this._value=initial;this.callbacks=$.Callbacks();this._dirty=!1;$.extend(this,options||{});this.set=$.proxy(this.set,this)},instance:function(){return arguments.length?this.set.apply(this,arguments):this.get()},get:function(){return this._value},set:function(to){var from=this._value;to=this._setter.apply(this,arguments);to=this.validate(to);if(null===to||_.isEqual(from,to)){return this}
this._value=to;this._dirty=!0;this.callbacks.fireWith(this,[to,from]);return this},_setter:function(to){return to},setter:function(callback){var from=this.get();this._setter=callback;this._value=null;this.set(from);return this},resetSetter:function(){this._setter=this.constructor.prototype._setter;this.set(this.get());return this},validate:function(value){return value},bind:function(){this.callbacks.add.apply(this.callbacks,arguments);return this},unbind:function(){this.callbacks.remove.apply(this.callbacks,arguments);return this},link:function(){var set=this.set;$.each(arguments,function(){this.bind(set)});return this},unlink:function(){var set=this.set;$.each(arguments,function(){this.unbind(set)});return this},sync:function(){var that=this;$.each(arguments,function(){that.link(this);this.link(that)});return this},unsync:function(){var that=this;$.each(arguments,function(){that.unlink(this);this.unlink(that)});return this}});api.Values=api.Class.extend({defaultConstructor:api.Value,initialize:function(options){$.extend(this,options||{});this._value={};this._deferreds={}},instance:function(id){if(arguments.length===1)
return this.value(id);return this.when.apply(this,arguments)},value:function(id){return this._value[id]},has:function(id){return typeof this._value[id]!=='undefined'},add:function(id,value){if(this.has(id))
return this.value(id);this._value[id]=value;value.parent=this;if(value.extended(api.Value))
value.bind(this._change);this.trigger('add',value);if(this._deferreds[id])
this._deferreds[id].resolve();return this._value[id]},create:function(id){return this.add(id,new this.defaultConstructor(api.Class.applicator,slice.call(arguments,1)))},each:function(callback,context){context=typeof context==='undefined'?this:context;$.each(this._value,function(key,obj){callback.call(context,obj,key)})},remove:function(id){var value;if(this.has(id)){value=this.value(id);this.trigger('remove',value);if(value.extended(api.Value))
value.unbind(this._change);delete value.parent}
delete this._value[id];delete this._deferreds[id]},when:function(){var self=this,ids=slice.call(arguments),dfd=$.Deferred();if($.isFunction(ids[ids.length-1]))
dfd.done(ids.pop());$.when.apply($,$.map(ids,function(id){if(self.has(id))
return;return self._deferreds[id]=self._deferreds[id]||$.Deferred()})).done(function(){var values=$.map(ids,function(id){return self(id)});if(values.length!==ids.length){self.when.apply(self,ids).done(function(){dfd.resolveWith(self,values)});return}
dfd.resolveWith(self,values)});return dfd.promise()},_change:function(){this.parent.trigger('change',this)}});$.extend(api.Values.prototype,api.Events);api.ensure=function(element){return typeof element=='string'?$(element):element};api.Element=api.Value.extend({initialize:function(element,options){var self=this,synchronizer=api.Element.synchronizer.html,type,update,refresh;this.element=api.ensure(element);this.events='';if(this.element.is('input, select, textarea')){this.events+='change';synchronizer=api.Element.synchronizer.val;if(this.element.is('input')){type=this.element.prop('type');if(api.Element.synchronizer[type]){synchronizer=api.Element.synchronizer[type]}
if('text'===type||'password'===type){this.events+=' keyup'}else if('range'===type){this.events+=' input propertychange'}}else if(this.element.is('textarea')){this.events+=' keyup'}}
api.Value.prototype.initialize.call(this,null,$.extend(options||{},synchronizer));this._value=this.get();update=this.update;refresh=this.refresh;this.update=function(to){if(to!==refresh.call(self))
update.apply(this,arguments)};this.refresh=function(){self.set(refresh.call(self))};this.bind(this.update);this.element.bind(this.events,this.refresh)},find:function(selector){return $(selector,this.element)},refresh:function(){},update:function(){}});api.Element.synchronizer={};$.each(['html','val'],function(index,method){api.Element.synchronizer[method]={update:function(to){this.element[method](to)},refresh:function(){return this.element[method]()}}});api.Element.synchronizer.checkbox={update:function(to){this.element.prop('checked',to)},refresh:function(){return this.element.prop('checked')}};api.Element.synchronizer.radio={update:function(to){this.element.filter(function(){return this.value===to}).prop('checked',!0)},refresh:function(){return this.element.filter(':checked').val()}};$.support.postMessage=!!window.postMessage;api.Messenger=api.Class.extend({add:function(key,initial,options){return this[key]=new api.Value(initial,options)},initialize:function(params,options){var defaultTarget=window.parent==window?null:window.parent;$.extend(this,options||{});this.add('channel',params.channel);this.add('url',params.url||'');this.add('origin',this.url()).link(this.url).setter(function(to){return to.replace(/([^:]+:\/\/[^\/]+).*/,'$1')});this.add('targetWindow',null);this.targetWindow.set=function(to){var from=this._value;to=this._setter.apply(this,arguments);to=this.validate(to);if(null===to||from===to){return this}
this._value=to;this._dirty=!0;this.callbacks.fireWith(this,[to,from]);return this};this.targetWindow(params.targetWindow||defaultTarget);this.receive=$.proxy(this.receive,this);this.receive.guid=$.guid++;$(window).on('message',this.receive)},destroy:function(){$(window).off('message',this.receive)},receive:function(event){var message;event=event.originalEvent;if(!this.targetWindow||!this.targetWindow()){return}
if(this.origin()&&event.origin!==this.origin())
return;if(typeof event.data!=='string'||event.data[0]!=='{'){return}
message=JSON.parse(event.data);if(!message||!message.id||typeof message.data==='undefined')
return;if((message.channel||this.channel())&&this.channel()!==message.channel)
return;this.trigger(message.id,message.data)},send:function(id,data){var message;data=typeof data==='undefined'?null:data;if(!this.url()||!this.targetWindow())
return;message={id:id,data:data};if(this.channel())
message.channel=this.channel();this.targetWindow().postMessage(JSON.stringify(message),this.origin())}});$.extend(api.Messenger.prototype,api.Events);api=$.extend(new api.Values(),api);api.get=function(){var result={};this.each(function(obj,key){result[key]=obj.get()});return result};exports.customize=api})(wp,jQuery);(function(exports,$){var api=wp.customize,debounce;debounce=function(fn,delay,context){var timeout;return function(){var args=arguments;context=context||this;clearTimeout(timeout);timeout=setTimeout(function(){timeout=null;fn.apply(context,args)},delay)}};api.Preview=api.Messenger.extend({initialize:function(params,options){var self=this;api.Messenger.prototype.initialize.call(this,params,options);this.body=$(document.body);this.body.on('click.preview','a',function(event){var link,isInternalJumpLink;link=$(this);isInternalJumpLink=('#'===link.attr('href').substr(0,1));event.preventDefault();if(isInternalJumpLink&&'#'!==link.attr('href')){$(link.attr('href')).each(function(){this.scrollIntoView()})}
if(event.shiftKey||isInternalJumpLink){return}
self.send('scroll',0);self.send('url',link.prop('href'))});this.body.on('submit.preview','form',function(event){event.preventDefault()});this.window=$(window);this.window.on('scroll.preview',debounce(function(){self.send('scroll',self.window.scrollTop())},200));this.bind('scroll',function(distance){self.window.scrollTop(distance)})}});$(function(){var bg,setValue;api.settings=window._wpCustomizeSettings;if(!api.settings){return}
api.preview=new api.Preview({url:window.location.href,channel:api.settings.channel});setValue=function(id,value,createDirty){var setting=api(id);if(setting){setting.set(value)}else{createDirty=createDirty||!1;setting=api.create(id,value,{id:id});if(createDirty){setting._dirty=!0}}};api.preview.bind('settings',function(values){$.each(values,setValue)});api.preview.trigger('settings',api.settings.values);$.each(api.settings._dirty,function(i,id){var setting=api(id);if(setting){setting._dirty=!0}});api.preview.bind('setting',function(args){var createDirty=!0;setValue.apply(null,args.concat(createDirty))});api.preview.bind('sync',function(events){$.each(events,function(event,args){api.preview.trigger(event,args)});api.preview.send('synced')});api.preview.bind('active',function(){api.preview.send('nonce',api.settings.nonce);api.preview.send('documentTitle',document.title)});api.preview.bind('saved',function(response){api.trigger('saved',response)});api.bind('saved',function(){api.each(function(setting){setting._dirty=!1})});api.preview.bind('nonce-refresh',function(nonce){$.extend(api.settings.nonce,nonce)});api.preview.send('ready',{activePanels:api.settings.activePanels,activeSections:api.settings.activeSections,activeControls:api.settings.activeControls});api.preview.bind('loading-initiated',function(){$('body').addClass('wp-customizer-unloading')});api.preview.bind('loading-failed',function(){$('body').removeClass('wp-customizer-unloading')});bg=$.map(['color','image','position_x','repeat','attachment'],function(prop){return 'background_'+prop});api.when.apply(api,bg).done(function(color,image,position_x,repeat,attachment){var body=$(document.body),head=$('head'),style=$('#custom-background-css'),update;update=function(){var css='';body.toggleClass('custom-background',!!(color()||image()));if(color())
css+='background-color: '+color()+';';if(image()){css+='background-image: url("'+image()+'");';css+='background-position: top '+position_x()+';';css+='background-repeat: '+repeat()+';';css+='background-attachment: '+attachment()+';'}
style.remove();style=$('<style type="text/css" id="custom-background-css">body.custom-background { '+css+' }</style>').appendTo(head)};$.each(arguments,function(){this.bind(update)})});api('custom_logo',function(setting){$('body').toggleClass('wp-custom-logo',!!setting.get());setting.bind(function(attachmentId){$('body').toggleClass('wp-custom-logo',!!attachmentId)})});api.trigger('preview-ready')})})(wp,jQuery);(function($){$(document).on('click','.wpcw-widgets',function(){wp.customize.WidgetCustomizerPreview.preview.send('focus-widget-control',$(this).prop('id'))})})(jQuery);window.wp=window.wp||{};(function($){var settings=typeof _wpUtilSettings==='undefined'?{}:_wpUtilSettings;wp.template=_.memoize(function(id){var compiled,options={evaluate:/<#([\s\S]+?)#>/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:'data'};return function(data){compiled=compiled||_.template($('#tmpl-'+id).html(),null,options);return compiled(data)}});wp.ajax={settings:settings.ajax||{},post:function(action,data){return wp.ajax.send({data:_.isObject(action)?action:_.extend(data||{},{action:action})})},send:function(action,options){var promise,deferred;if(_.isObject(action)){options=action}else{options=options||{};options.data=_.extend(options.data||{},{action:action})}
options=_.defaults(options||{},{type:'POST',url:wp.ajax.settings.url,context:this});deferred=$.Deferred(function(deferred){if(options.success)
deferred.done(options.success);if(options.error)
deferred.fail(options.error);delete options.success;delete options.error;deferred.jqXHR=$.ajax(options).done(function(response){if(response==='1'||response===1)
response={success:!0};if(_.isObject(response)&&!_.isUndefined(response.success))
deferred[response.success?'resolveWith':'rejectWith'](this,[response.data]);else deferred.rejectWith(this,[response])}).fail(function(){deferred.rejectWith(this,arguments)})});promise=deferred.promise();promise.abort=function(){deferred.jqXHR.abort();return this};return promise}}}(jQuery));wp.customize.selectiveRefresh=(function($,api){'use strict';var self,Partial,Placement;self={ready:$.Deferred(),data:{partials:{},renderQueryVar:'',l10n:{shiftClickToEdit:''},refreshBuffer:250},currentRequest:null};_.extend(self,api.Events);Partial=self.Partial=api.Class.extend({id:null,initialize:function(id,options){var partial=this;options=options||{};partial.id=id;partial.params=_.extend({selector:null,settings:[],primarySetting:null,containerInclusive:!1,fallbackRefresh:!0},options.params||{});partial.deferred={};partial.deferred.ready=$.Deferred();partial.deferred.ready.done(function(){partial.ready()})},ready:function(){var partial=this;_.each(_.pluck(partial.placements(),'container'),function(container){$(container).attr('title',self.data.l10n.shiftClickToEdit)});$(document).on('click',partial.params.selector,function(e){if(!e.shiftKey){return}
e.preventDefault();_.each(partial.placements(),function(placement){if($(placement.container).is(e.currentTarget)){partial.showControl()}})})},placements:function(){var partial=this,selector;selector=partial.params.selector||'';if(selector){selector+=', '}
selector+='[data-customize-partial-id="'+partial.id+'"]';return $(selector).map(function(){var container=$(this),context;context=container.data('customize-partial-placement-context');if(_.isString(context)&&'{'===context.substr(0,1)){throw new Error('context JSON parse error')}
return new Placement({partial:partial,container:container,context:context})}).get()},settings:function(){var partial=this;if(partial.params.settings&&0!==partial.params.settings.length){return partial.params.settings}else if(partial.params.primarySetting){return[partial.params.primarySetting]}else{return[partial.id]}},isRelatedSetting:function(setting){var partial=this;if(_.isString(setting)){setting=api(setting)}
if(!setting){return !1}
return-1!==_.indexOf(partial.settings(),setting.id)},showControl:function(){var partial=this,settingId=partial.params.primarySetting;if(!settingId){settingId=_.first(partial.settings())}
api.preview.send('focus-control-for-setting',settingId)},preparePlacement:function(placement){$(placement.container).addClass('customize-partial-refreshing')},_pendingRefreshPromise:null,refresh:function(){var partial=this,refreshPromise;refreshPromise=self.requestPartial(partial);if(!partial._pendingRefreshPromise){_.each(partial.placements(),function(placement){partial.preparePlacement(placement)});refreshPromise.done(function(placements){_.each(placements,function(placement){partial.renderContent(placement)})});refreshPromise.fail(function(data,placements){partial.fallback(data,placements)});partial._pendingRefreshPromise=refreshPromise;refreshPromise.always(function(){partial._pendingRefreshPromise=null})}
return refreshPromise},renderContent:function(placement){var partial=this,content,newContainerElement;if(!placement.container){partial.fallback(new Error('no_container'),[placement]);return !1}
placement.container=$(placement.container);if(!1===placement.addedContent){partial.fallback(new Error('missing_render'),[placement]);return !1}
if(!_.isString(placement.addedContent)){partial.fallback(new Error('non_string_content'),[placement]);return !1}
self.orginalDocumentWrite=document.write;document.write=function(){throw new Error(self.data.l10n.badDocumentWrite)};try{content=placement.addedContent;if(wp.emoji&&wp.emoji.parse&&!$.contains(document.head,placement.container[0])){content=wp.emoji.parse(content)}
if(partial.params.containerInclusive){newContainerElement=$(content);placement.context=_.extend(placement.context,newContainerElement.data('customize-partial-placement-context')||{});newContainerElement.data('customize-partial-placement-context',placement.context);placement.removedNodes=placement.container;placement.container=newContainerElement;placement.removedNodes.replaceWith(placement.container);placement.container.attr('title',self.data.l10n.shiftClickToEdit)}else{placement.removedNodes=document.createDocumentFragment();while(placement.container[0].firstChild){placement.removedNodes.appendChild(placement.container[0].firstChild)}
placement.container.html(content)}
placement.container.removeClass('customize-render-content-error')}catch(error){if('undefined'!==typeof console&&console.error){console.error(partial.id,error)}}
document.write=self.orginalDocumentWrite;self.orginalDocumentWrite=null;placement.container.removeClass('customize-partial-refreshing');placement.container.data('customize-partial-content-rendered',!0);self.trigger('partial-content-rendered',placement);return !0},fallback:function(){var partial=this;if(partial.params.fallbackRefresh){self.requestFullRefresh()}}});self.Placement=Placement=api.Class.extend({partial:null,container:null,startNode:null,endNode:null,context:null,addedContent:null,removedNodes:null,initialize:function(args){var placement=this;args=_.extend({},args||{});if(!args.partial||!args.partial.extended(Partial)){throw new Error('Missing partial')}
args.context=args.context||{};if(args.container){args.container=$(args.container)}
_.extend(placement,args)}});self.partialConstructor={};self.partial=new api.Values({defaultConstructor:Partial});self.getCustomizeQuery=function(){var dirtyCustomized={};api.each(function(value,key){if(value._dirty){dirtyCustomized[key]=value()}});return{wp_customize:'on',nonce:api.settings.nonce.preview,theme:api.settings.theme.stylesheet,customized:JSON.stringify(dirtyCustomized)}};self._pendingPartialRequests={};self._debouncedTimeoutId=null;self._currentRequest=null;self.requestFullRefresh=function(){api.preview.send('refresh')};self.requestPartial=function(partial){var partialRequest;if(self._debouncedTimeoutId){clearTimeout(self._debouncedTimeoutId);self._debouncedTimeoutId=null}
if(self._currentRequest){self._currentRequest.abort();self._currentRequest=null}
partialRequest=self._pendingPartialRequests[partial.id];if(!partialRequest||'pending'!==partialRequest.deferred.state()){partialRequest={deferred:$.Deferred(),partial:partial};self._pendingPartialRequests[partial.id]=partialRequest}
partial=null;self._debouncedTimeoutId=setTimeout(function(){var data,partialPlacementContexts,partialsPlacements,request;self._debouncedTimeoutId=null;data=self.getCustomizeQuery();partialsPlacements={};partialPlacementContexts={};_.each(self._pendingPartialRequests,function(pending,partialId){partialsPlacements[partialId]=pending.partial.placements();if(!self.partial.has(partialId)){pending.deferred.rejectWith(pending.partial,[new Error('partial_removed'),partialsPlacements[partialId]])}else{partialPlacementContexts[partialId]=_.map(partialsPlacements[partialId],function(placement){return placement.context||{}})}});data.partials=JSON.stringify(partialPlacementContexts);data[self.data.renderQueryVar]='1';request=self._currentRequest=wp.ajax.send(null,{data:data,url:api.settings.url.self});request.done(function(data){self.trigger('render-partials-response',data);if(data.errors&&'undefined'!==typeof console&&console.warn){_.each(data.errors,function(error){console.warn(error)})}
_.each(self._pendingPartialRequests,function(pending,partialId){var placementsContents;if(!_.isArray(data.contents[partialId])){pending.deferred.rejectWith(pending.partial,[new Error('unrecognized_partial'),partialsPlacements[partialId]])}else{placementsContents=_.map(data.contents[partialId],function(content,i){var partialPlacement=partialsPlacements[partialId][i];if(partialPlacement){partialPlacement.addedContent=content}else{partialPlacement=new Placement({partial:pending.partial,addedContent:content})}
return partialPlacement});pending.deferred.resolveWith(pending.partial,[placementsContents])}});self._pendingPartialRequests={}});request.fail(function(data,statusText){if('abort'===statusText){return}
_.each(self._pendingPartialRequests,function(pending,partialId){pending.deferred.rejectWith(pending.partial,[data,partialsPlacements[partialId]])});self._pendingPartialRequests={}})},self.data.refreshBuffer);return partialRequest.deferred.promise()};self.addPartials=function(rootElement,options){var containerElements;if(!rootElement){rootElement=document.documentElement}
rootElement=$(rootElement);options=_.extend({triggerRendered:!0},options||{});containerElements=rootElement.find('[data-customize-partial-id]');if(rootElement.is('[data-customize-partial-id]')){containerElements=containerElements.add(rootElement)}
containerElements.each(function(){var containerElement=$(this),partial,id,Constructor,partialOptions,containerContext;id=containerElement.data('customize-partial-id');if(!id){return}
containerContext=containerElement.data('customize-partial-placement-context')||{};partial=self.partial(id);if(!partial){partialOptions=containerElement.data('customize-partial-options')||{};partialOptions.constructingContainerContext=containerElement.data('customize-partial-placement-context')||{};Constructor=self.partialConstructor[containerElement.data('customize-partial-type')]||self.Partial;partial=new Constructor(id,partialOptions);self.partial.add(partial.id,partial)}
if(options.triggerRendered&&!containerElement.data('customize-partial-content-rendered')){self.trigger('partial-content-rendered',new Placement({partial:partial,context:containerContext,container:containerElement}))}
containerElement.data('customize-partial-content-rendered',!0)})};api.bind('preview-ready',function(){var handleSettingChange,watchSettingChange,unwatchSettingChange;if(!document.head){document.head=$('head:first')[0]}
_.extend(self.data,_customizePartialRefreshExports);_.each(self.data.partials,function(data,id){var Constructor,partial=self.partial(id);if(!partial){Constructor=self.partialConstructor[data.type]||self.Partial;partial=new Constructor(id,{params:data});self.partial.add(id,partial)}else{_.extend(partial.params,data)}});handleSettingChange=function(newValue,oldValue){var setting=this;self.partial.each(function(partial){if(partial.isRelatedSetting(setting,newValue,oldValue)){partial.refresh()}})};watchSettingChange=function(setting){handleSettingChange.call(setting,setting(),null);setting.bind(handleSettingChange)};unwatchSettingChange=function(setting){handleSettingChange.call(setting,null,setting());setting.unbind(handleSettingChange)};api.bind('add',watchSettingChange);api.bind('remove',unwatchSettingChange);api.each(function(setting){setting.bind(handleSettingChange)});self.addPartials(document.documentElement,{triggerRendered:!1});if('undefined'!==typeof MutationObserver){self.mutationObserver=new MutationObserver(function(mutations){_.each(mutations,function(mutation){self.addPartials($(mutation.target))})});self.mutationObserver.observe(document.documentElement,{childList:!0,subtree:!0})}
api.selectiveRefresh.bind('partial-content-rendered',function(placement){if(placement.container){self.addPartials(placement.container)}});api.preview.bind('active',function(){self.partial.each(function(partial){partial.deferred.ready.resolve()});self.partial.bind('add',function(partial){partial.deferred.ready.resolve()})})});return self}(jQuery,wp.customize));wp.customize.widgetsPreview=wp.customize.WidgetCustomizerPreview=(function($,_,wp,api){var self;self={renderedSidebars:{},renderedWidgets:{},registeredSidebars:[],registeredWidgets:{},widgetSelectors:[],preview:null,l10n:{widgetTooltip:''},selectiveRefreshableWidgets:{}};self.init=function(){var self=this;self.preview=api.preview;if(!_.isEmpty(self.selectiveRefreshableWidgets)){self.addPartials()}
self.buildWidgetSelectors();self.highlightControls();self.preview.bind('highlight-widget',self.highlightWidget);api.preview.bind('active',function(){self.highlightControls()})};self.WidgetPartial=api.selectiveRefresh.Partial.extend({initialize:function(id,options){var partial=this,matches;matches=id.match(/^widget\[(.+)]$/);if(!matches){throw new Error('Illegal id for widget partial.')}
partial.widgetId=matches[1];partial.widgetIdParts=self.parseWidgetId(partial.widgetId);options=options||{};options.params=_.extend({settings:[self.getWidgetSettingId(partial.widgetId)],containerInclusive:!0},options.params||{});api.selectiveRefresh.Partial.prototype.initialize.call(partial,id,options)},refresh:function(){var partial=this,refreshDeferred;if(!self.selectiveRefreshableWidgets[partial.widgetIdParts.idBase]){refreshDeferred=$.Deferred();refreshDeferred.reject();partial.fallback();return refreshDeferred.promise()}else{return api.selectiveRefresh.Partial.prototype.refresh.call(partial)}},renderContent:function(placement){var partial=this;if(api.selectiveRefresh.Partial.prototype.renderContent.call(partial,placement)){api.preview.send('widget-updated',partial.widgetId);api.selectiveRefresh.trigger('widget-updated',partial)}}});self.SidebarPartial=api.selectiveRefresh.Partial.extend({initialize:function(id,options){var partial=this,matches;matches=id.match(/^sidebar\[(.+)]$/);if(!matches){throw new Error('Illegal id for sidebar partial.')}
partial.sidebarId=matches[1];options=options||{};options.params=_.extend({settings:['sidebars_widgets['+partial.sidebarId+']']},options.params||{});api.selectiveRefresh.Partial.prototype.initialize.call(partial,id,options);if(!partial.params.sidebarArgs){throw new Error('The sidebarArgs param was not provided.')}
if(partial.params.settings.length>1){throw new Error('Expected SidebarPartial to only have one associated setting')}},ready:function(){var sidebarPartial=this;_.each(sidebarPartial.settings(),function(settingId){api(settingId).bind(_.bind(sidebarPartial.handleSettingChange,sidebarPartial))});api.selectiveRefresh.bind('partial-content-rendered',function(placement){var isAssignedWidgetPartial=(placement.partial.extended(self.WidgetPartial)&&(-1!==_.indexOf(sidebarPartial.getWidgetIds(),placement.partial.widgetId)));if(isAssignedWidgetPartial){api.selectiveRefresh.trigger('sidebar-updated',sidebarPartial)}});api.bind('change',function(widgetSetting){var widgetId,parsedId;parsedId=self.parseWidgetSettingId(widgetSetting.id);if(!parsedId){return}
widgetId=parsedId.idBase;if(parsedId.number){widgetId+='-'+String(parsedId.number)}
if(-1!==_.indexOf(sidebarPartial.getWidgetIds(),widgetId)){sidebarPartial.ensureWidgetPlacementContainers(widgetId)}})},findDynamicSidebarBoundaryNodes:function(){var partial=this,regExp,boundaryNodes={},recursiveCommentTraversal;regExp=/^(dynamic_sidebar_before|dynamic_sidebar_after):(.+):(\d+)$/;recursiveCommentTraversal=function(childNodes){_.each(childNodes,function(node){var matches;if(8===node.nodeType){matches=node.nodeValue.match(regExp);if(!matches||matches[2]!==partial.sidebarId){return}
if(_.isUndefined(boundaryNodes[matches[3]])){boundaryNodes[matches[3]]={before:null,after:null,instanceNumber:parseInt(matches[3],10)}}
if('dynamic_sidebar_before'===matches[1]){boundaryNodes[matches[3]].before=node}else{boundaryNodes[matches[3]].after=node}}else if(1===node.nodeType){recursiveCommentTraversal(node.childNodes)}})};recursiveCommentTraversal(document.body.childNodes);return _.values(boundaryNodes)},placements:function(){var partial=this;return _.map(partial.findDynamicSidebarBoundaryNodes(),function(boundaryNodes){return new api.selectiveRefresh.Placement({partial:partial,container:null,startNode:boundaryNodes.before,endNode:boundaryNodes.after,context:{instanceNumber:boundaryNodes.instanceNumber}})})},getWidgetIds:function(){var sidebarPartial=this,settingId,widgetIds;settingId=sidebarPartial.settings()[0];if(!settingId){throw new Error('Missing associated setting.')}
if(!api.has(settingId)){throw new Error('Setting does not exist.')}
widgetIds=api(settingId).get();if(!_.isArray(widgetIds)){throw new Error('Expected setting to be array of widget IDs')}
return widgetIds.slice(0)},reflowWidgets:function(){var sidebarPartial=this,sidebarPlacements,widgetIds,widgetPartials,sortedSidebarContainers=[];widgetIds=sidebarPartial.getWidgetIds();sidebarPlacements=sidebarPartial.placements();widgetPartials={};_.each(widgetIds,function(widgetId){var widgetPartial=api.selectiveRefresh.partial('widget['+widgetId+']');if(widgetPartial){widgetPartials[widgetId]=widgetPartial}});_.each(sidebarPlacements,function(sidebarPlacement){var sidebarWidgets=[],needsSort=!1,thisPosition,lastPosition=-1;_.each(widgetPartials,function(widgetPartial){_.each(widgetPartial.placements(),function(widgetPlacement){if(sidebarPlacement.context.instanceNumber===widgetPlacement.context.sidebar_instance_number){thisPosition=widgetPlacement.container.index();sidebarWidgets.push({partial:widgetPartial,placement:widgetPlacement,position:thisPosition});if(thisPosition<lastPosition){needsSort=!0}
lastPosition=thisPosition}})});if(needsSort){_.each(sidebarWidgets,function(sidebarWidget){sidebarPlacement.endNode.parentNode.insertBefore(sidebarWidget.placement.container[0],sidebarPlacement.endNode);api.selectiveRefresh.trigger('partial-content-moved',sidebarWidget.placement)});sortedSidebarContainers.push(sidebarPlacement)}});if(sortedSidebarContainers.length>0){api.selectiveRefresh.trigger('sidebar-updated',sidebarPartial)}
return sortedSidebarContainers},ensureWidgetPlacementContainers:function(widgetId){var sidebarPartial=this,widgetPartial,wasInserted=!1,partialId='widget['+widgetId+']';widgetPartial=api.selectiveRefresh.partial(partialId);if(!widgetPartial){widgetPartial=new self.WidgetPartial(partialId,{params:{}});api.selectiveRefresh.partial.add(widgetPartial.id,widgetPartial)}
_.each(sidebarPartial.placements(),function(sidebarPlacement){var foundWidgetPlacement,widgetContainerElement;foundWidgetPlacement=_.find(widgetPartial.placements(),function(widgetPlacement){return(widgetPlacement.context.sidebar_instance_number===sidebarPlacement.context.instanceNumber)});if(foundWidgetPlacement){return}
widgetContainerElement=$(sidebarPartial.params.sidebarArgs.before_widget.replace('%1$s',widgetId).replace('%2$s','widget')+sidebarPartial.params.sidebarArgs.after_widget);widgetContainerElement.attr('data-customize-partial-id',widgetPartial.id);widgetContainerElement.attr('data-customize-partial-type','widget');widgetContainerElement.attr('data-customize-widget-id',widgetId);widgetContainerElement.data('customize-partial-placement-context',{'sidebar_id':sidebarPartial.sidebarId,'sidebar_instance_number':sidebarPlacement.context.instanceNumber});sidebarPlacement.endNode.parentNode.insertBefore(widgetContainerElement[0],sidebarPlacement.endNode);wasInserted=!0});if(wasInserted){sidebarPartial.reflowWidgets()}
return widgetPartial},handleSettingChange:function(newWidgetIds,oldWidgetIds){var sidebarPartial=this,needsRefresh,widgetsRemoved,widgetsAdded,addedWidgetPartials=[];needsRefresh=((oldWidgetIds.length>0&&0===newWidgetIds.length)||(newWidgetIds.length>0&&0===oldWidgetIds.length));if(needsRefresh){sidebarPartial.fallback();return}
widgetsRemoved=_.difference(oldWidgetIds,newWidgetIds);_.each(widgetsRemoved,function(removedWidgetId){var widgetPartial=api.selectiveRefresh.partial('widget['+removedWidgetId+']');if(widgetPartial){_.each(widgetPartial.placements(),function(placement){var isRemoved=(placement.context.sidebar_id===sidebarPartial.sidebarId||(placement.context.sidebar_args&&placement.context.sidebar_args.id===sidebarPartial.sidebarId));if(isRemoved){placement.container.remove()}})}});widgetsAdded=_.difference(newWidgetIds,oldWidgetIds);_.each(widgetsAdded,function(addedWidgetId){var widgetPartial=sidebarPartial.ensureWidgetPlacementContainers(addedWidgetId);addedWidgetPartials.push(widgetPartial)});_.each(addedWidgetPartials,function(widgetPartial){widgetPartial.refresh()});api.selectiveRefresh.trigger('sidebar-updated',sidebarPartial)},refresh:function(){var partial=this,deferred=$.Deferred();deferred.fail(function(){partial.fallback()});if(0===partial.placements().length){deferred.reject()}else{_.each(partial.reflowWidgets(),function(sidebarPlacement){api.selectiveRefresh.trigger('partial-content-rendered',sidebarPlacement)});deferred.resolve()}
return deferred.promise()}});api.selectiveRefresh.partialConstructor.sidebar=self.SidebarPartial;api.selectiveRefresh.partialConstructor.widget=self.WidgetPartial;self.addPartials=function(){_.each(self.registeredSidebars,function(registeredSidebar){var partial,partialId='sidebar['+registeredSidebar.id+']';partial=api.selectiveRefresh.partial(partialId);if(!partial){partial=new self.SidebarPartial(partialId,{params:{sidebarArgs:registeredSidebar}});api.selectiveRefresh.partial.add(partial.id,partial)}})};self.buildWidgetSelectors=function(){var self=this;$.each(self.registeredSidebars,function(i,sidebar){var widgetTpl=[sidebar.before_widget.replace('%1$s','').replace('%2$s',''),sidebar.before_title,sidebar.after_title,sidebar.after_widget].join(''),emptyWidget,widgetSelector,widgetClasses;emptyWidget=$(widgetTpl);widgetSelector=emptyWidget.prop('tagName');widgetClasses=emptyWidget.prop('className');if(!widgetClasses){return}
widgetClasses=widgetClasses.replace(/^\s+|\s+$/g,'');if(widgetClasses){widgetSelector+='.'+widgetClasses.split(/\s+/).join('.')}
self.widgetSelectors.push(widgetSelector)})};self.highlightWidget=function(widgetId){var $body=$(document.body),$widget=$('#'+widgetId);$body.find('.widget-customizer-highlighted-widget').removeClass('widget-customizer-highlighted-widget');$widget.addClass('widget-customizer-highlighted-widget');setTimeout(function(){$widget.removeClass('widget-customizer-highlighted-widget')},500)};self.highlightControls=function(){var self=this,selector=this.widgetSelectors.join(',');$(selector).attr('title',this.l10n.widgetTooltip);$(document).on('mouseenter',selector,function(){self.preview.send('highlight-widget-control',$(this).prop('id'))});$(document).on('click',selector,function(e){if(!e.shiftKey){return}
e.preventDefault();self.preview.send('focus-widget-control',$(this).prop('id'))})};self.parseWidgetId=function(widgetId){var matches,parsed={idBase:'',number:null};matches=widgetId.match(/^(.+)-(\d+)$/);if(matches){parsed.idBase=matches[1];parsed.number=parseInt(matches[2],10)}else{parsed.idBase=widgetId}
return parsed};self.parseWidgetSettingId=function(settingId){var matches,parsed={idBase:'',number:null};matches=settingId.match(/^widget_([^\[]+?)(?:\[(\d+)])?$/);if(!matches){return null}
parsed.idBase=matches[1];if(matches[2]){parsed.number=parseInt(matches[2],10)}
return parsed};self.getWidgetSettingId=function(widgetId){var parsed=this.parseWidgetId(widgetId),settingId;settingId='widget_'+parsed.idBase;if(parsed.number){settingId+='['+String(parsed.number)+']'}
return settingId};api.bind('preview-ready',function(){$.extend(self,_wpWidgetCustomizerPreviewSettings);self.init()});return self})(jQuery,_,wp,wp.customize);wp.customize.navMenusPreview=wp.customize.MenusCustomizerPreview=(function($,_,wp,api){'use strict';var self={data:{navMenuInstanceArgs:{}}};if('undefined'!==typeof _wpCustomizePreviewNavMenusExports){_.extend(self.data,_wpCustomizePreviewNavMenusExports)}
self.init=function(){var self=this;if(api.selectiveRefresh){api.each(function(setting){self.bindSettingListener(setting)});api.bind('add',function(setting){self.bindSettingListener(setting,{fire:!0})});api.bind('remove',function(setting){self.unbindSettingListener(setting)});api.selectiveRefresh.bind('render-partials-response',function(response){if(response.nav_menu_instance_args){_.extend(self.data.navMenuInstanceArgs,response.nav_menu_instance_args)}})}
api.preview.bind('active',function(){self.highlightControls()})};if(api.selectiveRefresh){self.NavMenuInstancePartial=api.selectiveRefresh.Partial.extend({initialize:function(id,options){var partial=this,matches,argsHmac;matches=id.match(/^nav_menu_instance\[([0-9a-f]{32})]$/);if(!matches){throw new Error('Illegal id for nav_menu_instance partial. The key corresponds with the args HMAC.')}
argsHmac=matches[1];options=options||{};options.params=_.extend({selector:'[data-customize-partial-id="'+id+'"]',navMenuArgs:options.constructingContainerContext||{},containerInclusive:!0},options.params||{});api.selectiveRefresh.Partial.prototype.initialize.call(partial,id,options);if(!_.isObject(partial.params.navMenuArgs)){throw new Error('Missing navMenuArgs')}
if(partial.params.navMenuArgs.args_hmac!==argsHmac){throw new Error('args_hmac mismatch with id')}},isRelatedSetting:function(setting,newValue,oldValue){var partial=this,navMenuLocationSetting,navMenuId,isNavMenuItemSetting;if(_.isString(setting)){setting=api(setting)}
isNavMenuItemSetting=/^nav_menu_item\[/.test(setting.id);if(isNavMenuItemSetting&&_.isObject(newValue)&&_.isObject(oldValue)){delete newValue.type_label;delete oldValue.type_label;if(_.isEqual(oldValue,newValue)){return !1}}
if(partial.params.navMenuArgs.theme_location){if('nav_menu_locations['+partial.params.navMenuArgs.theme_location+']'===setting.id){return !0}
navMenuLocationSetting=api('nav_menu_locations['+partial.params.navMenuArgs.theme_location+']')}
navMenuId=partial.params.navMenuArgs.menu;if(!navMenuId&&navMenuLocationSetting){navMenuId=navMenuLocationSetting()}
if(!navMenuId){return !1}
return(('nav_menu['+navMenuId+']'===setting.id)||(isNavMenuItemSetting&&((newValue&&newValue.nav_menu_term_id===navMenuId)||(oldValue&&oldValue.nav_menu_term_id===navMenuId))))},refresh:function(){var partial=this,menuId,deferred=$.Deferred();if(_.isNumber(partial.params.navMenuArgs.menu)){menuId=partial.params.navMenuArgs.menu}else if(partial.params.navMenuArgs.theme_location&&api.has('nav_menu_locations['+partial.params.navMenuArgs.theme_location+']')){menuId=api('nav_menu_locations['+partial.params.navMenuArgs.theme_location+']').get()}
if(!menuId){partial.fallback();deferred.reject();return deferred.promise()}
return api.selectiveRefresh.Partial.prototype.refresh.call(partial)},renderContent:function(placement){var partial=this,previousContainer=placement.container;if(''===placement.addedContent){placement.partial.fallback()}
if(api.selectiveRefresh.Partial.prototype.renderContent.call(partial,placement)){$(document).trigger('customize-preview-menu-refreshed',[{instanceNumber:null,wpNavArgs:placement.context,wpNavMenuArgs:placement.context,oldContainer:previousContainer,newContainer:placement.container}])}}});api.selectiveRefresh.partialConstructor.nav_menu_instance=self.NavMenuInstancePartial;self.handleUnplacedNavMenuInstances=function(navMenuInstanceArgs){var unplacedNavMenuInstances;unplacedNavMenuInstances=_.filter(_.values(self.data.navMenuInstanceArgs),function(args){return !api.selectiveRefresh.partial.has('nav_menu_instance['+args.args_hmac+']')});if(_.findWhere(unplacedNavMenuInstances,navMenuInstanceArgs)){api.selectiveRefresh.requestFullRefresh();return !0}
return !1};self.bindSettingListener=function(setting,options){var matches;options=options||{};matches=setting.id.match(/^nav_menu\[(-?\d+)]$/);if(matches){setting._navMenuId=parseInt(matches[1],10);setting.bind(this.onChangeNavMenuSetting);if(options.fire){this.onChangeNavMenuSetting.call(setting,setting(),!1)}
return !0}
matches=setting.id.match(/^nav_menu_item\[(-?\d+)]$/);if(matches){setting._navMenuItemId=parseInt(matches[1],10);setting.bind(this.onChangeNavMenuItemSetting);if(options.fire){this.onChangeNavMenuItemSetting.call(setting,setting(),!1)}
return !0}
matches=setting.id.match(/^nav_menu_locations\[(.+?)]/);if(matches){setting._navMenuThemeLocation=matches[1];setting.bind(this.onChangeNavMenuLocationsSetting);if(options.fire){this.onChangeNavMenuLocationsSetting.call(setting,setting(),!1)}
return !0}
return !1};self.unbindSettingListener=function(setting){setting.unbind(this.onChangeNavMenuSetting);setting.unbind(this.onChangeNavMenuItemSetting);setting.unbind(this.onChangeNavMenuLocationsSetting)};self.onChangeNavMenuSetting=function(){var setting=this;self.handleUnplacedNavMenuInstances({menu:setting._navMenuId});api.each(function(otherSetting){if(!otherSetting._navMenuThemeLocation){return}
if(setting._navMenuId===otherSetting()){self.handleUnplacedNavMenuInstances({theme_location:otherSetting._navMenuThemeLocation})}})};self.onChangeNavMenuItemSetting=function(newItem,oldItem){var item=newItem||oldItem,navMenuSetting;navMenuSetting=api('nav_menu['+String(item.nav_menu_term_id)+']');if(navMenuSetting){self.onChangeNavMenuSetting.call(navMenuSetting)}};self.onChangeNavMenuLocationsSetting=function(){var setting=this,hasNavMenuInstance;self.handleUnplacedNavMenuInstances({theme_location:setting._navMenuThemeLocation});hasNavMenuInstance=!!_.findWhere(_.values(self.data.navMenuInstanceArgs),{theme_location:setting._navMenuThemeLocation});if(!hasNavMenuInstance){api.selectiveRefresh.requestFullRefresh()}}}
self.highlightControls=function(){var selector='.menu-item';$(document).on('click',selector,function(e){var navMenuItemParts;if(!e.shiftKey){return}
navMenuItemParts=$(this).attr('class').match(/(?:^|\s)menu-item-(\d+)(?:\s|$)/);if(navMenuItemParts){e.preventDefault();e.stopPropagation();api.preview.send('focus-nav-menu-item-control',parseInt(navMenuItemParts[1],10))}})};api.bind('preview-ready',function(){self.init()});return self}(jQuery,_,wp,wp.customize));window.Modernizr=function(a,b,c){function w(a){i.cssText=a}function x(a,b){return w(l.join(a+";")+(b||""))}function y(a,b){return typeof a===b}function z(a,b){return!!~(""+a).indexOf(b)}function A(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:y(f,"function")?f.bind(d||b):f}return!1}var d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l=" -webkit- -moz- -o- -ms- ".split(" "),m={},n={},o={},p=[],q=p.slice,r,s=function(a,c,d,e){var h,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:g+(d+1),l.appendChild(j);return h=["&#173;",'<style id="s',g,'">',a,"</style>"].join(""),l.id=g,(m?l:n).innerHTML+=h,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=f.style.overflow,f.style.overflow="hidden",f.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),f.style.overflow=k),!!i},t=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return s("@media "+b+" { #"+g+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},u={}.hasOwnProperty,v;!y(u,"undefined")&&!y(u.call,"undefined")?v=function(a,b){return u.call(a,b)}:v=function(a,b){return b in a&&y(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=q.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(q.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(q.call(arguments)))};return e}),m.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:s(["@media (",l.join("touch-enabled),("),g,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c};for(var B in m)v(m,B)&&(r=B.toLowerCase(),e[r]=m[B](),p.push((e[r]?"":"no-")+r));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)v(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},w(""),h=j=null,e._version=d,e._prefixes=l,e.mq=t,e.testStyles=s,e}(this,this.document);(function(a,d,p){a.fn.backstretch=function(c,b){(c===p||0===c.length)&&a.error("No images were supplied for Backstretch");0===a(d).scrollTop()&&d.scrollTo(0,0);return this.each(function(){var d=a(this),g=d.data("backstretch");if(g){if("string"==typeof c&&"function"==typeof g[c]){g[c](b);return}b=a.extend(g.options,b);g.destroy(!0)}g=new q(this,c,b);d.data("backstretch",g)})};a.backstretch=function(c,b){return a("body").backstretch(c,b).data("backstretch")};a.expr[":"].backstretch=function(c){return a(c).data("backstretch")!==p};a.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5E3,fade:0};var r={left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},s={position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxHeight:"none",maxWidth:"none",zIndex:-999999},q=function(c,b,e){this.options=a.extend({},a.fn.backstretch.defaults,e||{});this.images=a.isArray(b)?b:[b];a.each(this.images,function(){a("<img />")[0].src=this});this.isBody=c===document.body;this.$container=a(c);this.$root=this.isBody?l?a(d):a(document):this.$container;c=this.$container.children(".backstretch").first();this.$wrap=c.length?c:a('<div class="backstretch"></div>').css(r).appendTo(this.$container);this.isBody||(c=this.$container.css("position"),b=this.$container.css("zIndex"),this.$container.css({position:"static"===c?"relative":c,zIndex:"auto"===b?0:b,background:"none"}),this.$wrap.css({zIndex:-999998}));this.$wrap.css({position:this.isBody&&l?"fixed":"absolute"});this.index=0;this.show(this.index);a(d).on("resize.backstretch",a.proxy(this.resize,this)).on("orientationchange.backstretch",a.proxy(function(){this.isBody&&0===d.pageYOffset&&(d.scrollTo(0,1),this.resize())},this))};q.prototype={resize:function(){try{var a={left:0,top:0},b=this.isBody?this.$root.width():this.$root.innerWidth(),e=b,g=this.isBody?d.innerHeight?d.innerHeight:this.$root.height():this.$root.innerHeight(),j=e/this.$img.data("ratio"),f;j>=g?(f=(j-g)/2,this.options.centeredY&&(a.top="-"+f+"px")):(j=g,e=j*this.$img.data("ratio"),f=(e-b)/2,this.options.centeredX&&(a.left="-"+f+"px"));this.$wrap.css({width:b,height:g}).find("img:not(.deleteable)").css({width:e,height:j}).css(a)}catch(h){}return this},show:function(c){if(!(Math.abs(c)>this.images.length-1)){var b=this,e=b.$wrap.find("img").addClass("deleteable"),d={relatedTarget:b.$container[0]};b.$container.trigger(a.Event("backstretch.before",d),[b,c]);this.index=c;clearInterval(b.interval);b.$img=a("<img />").css(s).bind("load",function(f){var h=this.width||a(f.target).width();f=this.height||a(f.target).height();a(this).data("ratio",h/f);a(this).fadeIn(b.options.speed||b.options.fade,function(){e.remove();b.paused||b.cycle();a(["after","show"]).each(function(){b.$container.trigger(a.Event("backstretch."+this,d),[b,c])})});b.resize()}).appendTo(b.$wrap);b.$img.attr("src",b.images[c]);return b}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){this.paused=!0;return this},resume:function(){this.paused=!1;this.next();return this},cycle:function(){1<this.images.length&&(clearInterval(this.interval),this.interval=setInterval(a.proxy(function(){this.paused||this.next()},this),this.options.duration));return this},destroy:function(c){a(d).off("resize.backstretch orientationchange.backstretch");clearInterval(this.interval);c||this.$wrap.remove();this.$container.removeData("backstretch")}};var l,f=navigator.userAgent,m=navigator.platform,e=f.match(/AppleWebKit\/([0-9]+)/),e=!!e&&e[1],h=f.match(/Fennec\/([0-9]+)/),h=!!h&&h[1],n=f.match(/Opera Mobi\/([0-9]+)/),t=!!n&&n[1],k=f.match(/MSIE ([0-9]+)/),k=!!k&&k[1];l=!((-1<m.indexOf("iPhone")||-1<m.indexOf("iPad")||-1<m.indexOf("iPod"))&&e&&534>e||d.operamini&&"[object OperaMini]"==={}.toString.call(d.operamini)||n&&7458>t||-1<f.indexOf("Android")&&e&&533>e||h&&6>h||"palmGetResource"in d&&e&&534>e||-1<f.indexOf("MeeGo")&&-1<f.indexOf("NokiaBrowser/8.5.0")||k&&6>=k)})(jQuery,window)